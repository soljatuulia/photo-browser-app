(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{9347:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/albums/[id]",function(){return o(1401)}])},6484:function(t,e,o){"use strict";o.d(e,{I:function(){return E}});var r=o(5893),n=o(7294),a=o(1664),i=o.n(a),s=o(5675),l=o.n(s),c=o(1163),h=o(8207),u=o(8008),d=o(8318),p=o(6556),f=o(7502),_=o(356),m=o(5727),g=o(4410),x=o(8964),w=o(4998);let j=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,o=await fetch("https://jsonplaceholder.typicode.com/photos?_page=".concat(t,"&_limit=").concat(e));if(!o.ok)throw Error("Failed to fetch photos");let r=Math.ceil(parseInt(o.headers.get("X-Total-Count")||"0",10)/e);return{photos:await o.json(),totalPages:r}},v=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=await fetch("https://jsonplaceholder.typicode.com/albums/".concat(t,"/photos?_page=").concat(e,"&_limit=").concat(o));if(!r.ok){if(404===r.status)throw Error("Album with ID ".concat(t," not found"));throw Error("Failed to fetch photos")}let n=Math.ceil(parseInt(r.headers.get("X-Total-Count")||"0",10)/o);return{photos:await r.json(),totalPages:n}};var y=o(5719),b=o.n(y);function E(t){let{initialPhotos:e,albumId:o,album:a,totalPages:s}=t,y=(0,c.useRouter)(),[E,N]=(0,n.useState)(Number(y.query.page)||1),[P,k]=(0,n.useState)(Array.isArray(e)?e:[]),[C,I]=(0,n.useState)(""),[S,T]=(0,n.useState)(!1),G=(0,x.a)("(max-width: 768px)"),A=(0,x.a)("(max-width: 350px)"),X=async t=>{T(!0);try{let e=(o?await v(o,t):await j(t)).photos.filter(t=>t.title.toLowerCase().includes(C.toLowerCase()));k(e),y.push({pathname:y.pathname,query:{...y.query,page:t}},void 0,{scroll:!1})}catch(t){console.error("Error fetching photos:",t)}T(!1)};return(0,n.useEffect)(()=>{X(E)},[E,C]),(0,r.jsx)("div",{children:(0,r.jsxs)(h.K,{gap:"lg",maw:500,className:b().container,children:[a?(0,r.jsxs)(u.D,{order:2,className:b().title,children:["Explore photos from ",a.title||"Untitled"]}):(0,r.jsx)(u.D,{order:2,children:"Explore All Photos"}),(0,r.jsx)(d.I,{className:b().search,placeholder:"Search photos by name",value:C,onChange:t=>I(t.currentTarget.value)}),S?(0,r.jsx)("div",{className:b().loader,children:(0,r.jsx)(p.a,{size:"lg",type:"bars",color:"pink"})}):P.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.M,{cols:A?1:G?2:3,spacing:15,children:P.map(t=>(0,r.jsx)("div",{"data-testid":"photo",children:(0,r.jsx)(i(),{href:"/photos/".concat(t.id),children:(0,r.jsx)(l(),{src:t.thumbnailUrl,alt:t.title,width:150,height:150,priority:!0})})},t.id))}),(0,r.jsx)(_.Z,{justify:"center",children:s>1&&(0,r.jsx)(m.t,{value:E,total:s,onChange:t=>{if(t<1||t>s){w.N9.show({title:"Oops!",color:"red",message:"Invalid page number"});return}N(t)},size:"md",color:"pink",siblings:1,boundaries:1})})]}):(0,r.jsx)(g.x,{children:"Sorry, no photos found!"})]})})}},1401:function(t,e,o){"use strict";o.r(e),o.d(e,{__N_SSG:function(){return a},default:function(){return i}});var r=o(5893),n=o(6484),a=!0;function i(t){let{photos:e=[],album:o,albumId:a,totalPages:i}=t;return(0,r.jsx)("div",{children:(0,r.jsx)(n.I,{initialPhotos:e,albumId:a,album:o,totalPages:i})})}},5719:function(t){t.exports={container:"PhotoGrid_container___Zp3b",title:"PhotoGrid_title__grEgl",search:"PhotoGrid_search__8cK2T",loader:"PhotoGrid_loader__Jehv2"}}},function(t){t.O(0,[967,381,888,774,179],function(){return t(t.s=9347)}),_N_E=t.O()}]);